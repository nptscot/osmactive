<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Extract Active Travel Infrastructure from OpenStreetMap â€¢ osmactive</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Extract Active Travel Infrastructure from OpenStreetMap">
<meta name="description" content="This package adds value to OpenStreetMap data by extracting active travel infrastructure such as cycleways and footways. It builds on the osmextract package and is designed to be extended to cover a wide range of classification systems for active travel infrastructure.">
<meta property="og:description" content="This package adds value to OpenStreetMap data by extracting active travel infrastructure such as cycleways and footways. It builds on the osmextract package and is designed to be extended to cover a wide range of classification systems for active travel infrastructure.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">osmactive</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/classify-cbd.html">Scottish Cycling by Design classification</a></li>
    <li><a class="dropdown-item" href="articles/classifying-cycle-infrastructure.html">Typologies of cycle infrastructure</a></li>
    <li><a class="dropdown-item" href="articles/gisruk2025.html">Mapping, classifying, and integrating diverse street network datasets: new methods and open source tools for active travel planning</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nptscot/osmactive/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="osmactive">osmactive<a class="anchor" aria-label="anchor" href="#osmactive"></a>
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<p>The goal of osmactive is to provide functions, example datasets and documentation for extracting active travel infrastructure from OpenStreetMap data.</p>
<p>Install the package with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"nptscot/osmactive"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nptscot.github.io/osmactive/">osmactive</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-tmap/tmap" class="external-link">tmap</a></span><span class="op">)</span> <span class="co"># for mapping</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span> <span class="co"># for data manipulation</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span> <span class="co"># for spatial data</span></span></code></pre></div>
<p>Alternatively, you can load the package with the following for local development:</p>
<div class="section level2">
<h2 id="minimal-example">Minimal example<a class="anchor" aria-label="anchor" href="#minimal-example"></a>
</h2>
<p>The package comes with example data for testing functions. You can test the functions as follows:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">osm</span> <span class="op">=</span> <span class="va">osm_edinburgh</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/get_cycling_network.html">get_cycling_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">drive_net</span> <span class="op">=</span> <span class="fu"><a href="reference/get_driving_network.html">get_driving_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">drive_net_major</span> <span class="op">=</span> <span class="fu"><a href="reference/get_driving_network.html">get_driving_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/distance_to_road.html">distance_to_road</a></span><span class="op">(</span><span class="va">cycle_net</span>, <span class="va">drive_net</span><span class="op">)</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/classify_cycle_infrastructure.html">classify_cycle_infrastructure</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">$</span><span class="va">detailed_segregation</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;          Level track Mixed Traffic Street    Off Road Cycleway </span></span>
<span><span class="co">#&gt;                   16                    1                    1 </span></span>
<span><span class="co">#&gt;   Painted Cycle Lane </span></span>
<span><span class="co">#&gt;                    3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">$</span><span class="va">cycle_segregation</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Segregated Track (wide)         Off Road Cycleway Segregated Track (narrow) </span></span>
<span><span class="co">#&gt;                         7                         1                         7 </span></span>
<span><span class="co">#&gt;            Shared Footway        Painted Cycle Lane </span></span>
<span><span class="co">#&gt;                         3                         3</span></span></code></pre></div>
<p>You can also create plots with the packaged <code><a href="reference/plot_osm_tmap.html">plot_osm_tmap()</a></code> function:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="reference/plot_osm_tmap.html">plot_osm_tmap</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">)</span></span>
<span><span class="va">m</span></span></code></pre></div>
<p><img src="reference/figures/README-minimal_plot_osm-1.png"><!-- --></p>
<p>Estimate the â€˜level of serviceâ€™ of cycle infrastructure:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cycle_net_los</span> <span class="op">=</span> <span class="fu"><a href="reference/level_of_service.html">level_of_service</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">cycle_net_los</span><span class="op">$</span><span class="va">`Level of Service`</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                                            High </span></span>
<span><span class="co">#&gt;                                              10 </span></span>
<span><span class="co">#&gt;                                          Medium </span></span>
<span><span class="co">#&gt;                                              11 </span></span>
<span><span class="co">#&gt;                                             Low </span></span>
<span><span class="co">#&gt;                                               0 </span></span>
<span><span class="co">#&gt;              Should not be used (mixed traffic) </span></span>
<span><span class="co">#&gt;                                               0 </span></span>
<span><span class="co">#&gt; Should not be used (non-compliant intervention) </span></span>
<span><span class="co">#&gt;                                               0</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cycle_net_los</span><span class="op">[</span><span class="st">"Level of Service"</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-7-1.png"><!-- --></p>
</div>
<div class="section level2">
<h2 id="leeds-example">Leeds example<a class="anchor" aria-label="anchor" href="#leeds-example"></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">osm</span> <span class="op">=</span> <span class="fu"><a href="reference/get_travel_network.html">get_travel_network</a></span><span class="op">(</span><span class="st">"Leeds"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Reading layer `lines' from data source `/data/bronze/osm/bbbike_Leeds.gpkg' using driver `GPKG'</span></span>
<span><span class="co">#&gt; Simple feature collection with 175051 features and 67 fields</span></span>
<span><span class="co">#&gt; Geometry type: LINESTRING</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -1.889999 ymin: 53.65 xmax: -1.280002 ymax: 53.88</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/get_cycling_network.html">get_cycling_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">drive_net</span> <span class="op">=</span> <span class="fu"><a href="reference/get_driving_network.html">get_driving_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">cycle_net_d</span> <span class="op">=</span> <span class="fu"><a href="reference/distance_to_road.html">distance_to_road</a></span><span class="op">(</span><span class="va">cycle_net</span>, <span class="va">drive_net</span><span class="op">)</span></span>
<span><span class="va">cycle_net_c</span> <span class="op">=</span> <span class="fu"><a href="reference/classify_cycle_infrastructure.html">classify_cycle_infrastructure</a></span><span class="op">(</span><span class="va">cycle_net_d</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="reference/plot_osm_tmap.html">plot_osm_tmap</a></span><span class="op">(</span><span class="va">cycle_net_c</span><span class="op">)</span></span>
<span><span class="va">m</span></span></code></pre></div>
<p><img src="reference/figures/README-leeds-1.png"><!-- --></p>
</div>
<div class="section level2">
<h2 id="edinburgh-example">Edinburgh example<a class="anchor" aria-label="anchor" href="#edinburgh-example"></a>
</h2>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">osm</span> <span class="op">=</span> <span class="fu"><a href="reference/get_travel_network.html">get_travel_network</a></span><span class="op">(</span><span class="st">"Edinburgh"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Reading layer `lines' from data source `/data/bronze/osm/bbbike_Edinburgh.gpkg' using driver `GPKG'</span></span>
<span><span class="co">#&gt; Simple feature collection with 225097 features and 67 fields</span></span>
<span><span class="co">#&gt; Geometry type: LINESTRING</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -3.579998 ymin: 55.7 xmax: -2.77 ymax: 56.1</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/get_cycling_network.html">get_cycling_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">drive_net</span> <span class="op">=</span> <span class="fu"><a href="reference/get_driving_network.html">get_driving_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/distance_to_road.html">distance_to_road</a></span><span class="op">(</span><span class="va">cycle_net</span>, <span class="va">drive_net</span><span class="op">)</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/classify_cycle_infrastructure.html">classify_cycle_infrastructure</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="reference/plot_osm_tmap.html">plot_osm_tmap</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">)</span></span>
<span><span class="va">m</span></span></code></pre></div>
<p><img src="reference/figures/README-edinburgh-1.png"><!-- --></p>
<!-- Save an interactive version of the map to check the resu lts as follows: -->
</div>
<div class="section level2">
<h2 id="dublin-example">Dublin example<a class="anchor" aria-label="anchor" href="#dublin-example"></a>
</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dublin_zones</span> <span class="op">=</span> <span class="fu">zonebuilder</span><span class="fu">::</span><span class="fu">zb_zone</span><span class="op">(</span><span class="st">"Dublin"</span><span class="op">)</span></span>
<span><span class="va">dublin_6km</span> <span class="op">=</span> <span class="va">dublin_zones</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">circle_id</span> <span class="op">&lt;=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_combine.html" class="external-link">st_union</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">osm</span> <span class="op">=</span> <span class="fu"><a href="reference/get_travel_network.html">get_travel_network</a></span><span class="op">(</span><span class="st">"Republic of Ireland"</span>, boundary <span class="op">=</span> <span class="va">dublin_6km</span>, boundary_type <span class="op">=</span> <span class="st">"clipsrc"</span><span class="op">)</span></span>
<span><span class="co">#&gt; 0...10...20...30...40...50...60...70..</span></span>
<span><span class="co">#&gt; .80...90...100 - done.</span></span>
<span><span class="co">#&gt; Reading layer `lines' from data source </span></span>
<span><span class="co">#&gt;   `/data/bronze/osm/geofabrik_ireland-and-northern-ireland-latest.gpkg' </span></span>
<span><span class="co">#&gt;   using driver `GPKG'</span></span>
<span><span class="co">#&gt; Simple feature collection with 54740 features and 67 fields</span></span>
<span><span class="co">#&gt; Geometry type: MULTILINESTRING</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -6.350653 ymin: 53.29547 xmax: -6.170875 ymax: 53.40329</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/get_cycling_network.html">get_cycling_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">drive_net</span> <span class="op">=</span> <span class="fu"><a href="reference/get_driving_network.html">get_driving_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/distance_to_road.html">distance_to_road</a></span><span class="op">(</span><span class="va">cycle_net</span>, <span class="va">drive_net</span><span class="op">)</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/classify_cycle_infrastructure.html">classify_cycle_infrastructure</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="reference/plot_osm_tmap.html">plot_osm_tmap</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">)</span></span>
<span><span class="va">m</span></span></code></pre></div>
<p><img src="reference/figures/README-dublin-1.png"><!-- --></p>
</div>
<div class="section level2">
<h2 id="lisbon-example">Lisbon example<a class="anchor" aria-label="anchor" href="#lisbon-example"></a>
</h2>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">u</span> <span class="op">=</span> <span class="st">"https://ushift.tecnico.ulisboa.pt/content/data/lisbon_limit.geojson"</span></span>
<span><span class="va">f</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/basename.html" class="external-link">basename</a></span><span class="op">(</span><span class="va">u</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span><span class="va">u</span>, <span class="va">f</span><span class="op">)</span></span>
<span><span class="va">lisbon</span> <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">read_sf</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span>
<span><span class="va">lisbon</span> <span class="op">=</span> <span class="va">lisbon</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_cast.html" class="external-link">st_cast</a></span><span class="op">(</span><span class="st">"POLYGON"</span><span class="op">)</span></span>
<span><span class="va">osm</span> <span class="op">=</span> <span class="fu"><a href="reference/get_travel_network.html">get_travel_network</a></span><span class="op">(</span><span class="st">"Portugal"</span>, boundary <span class="op">=</span> <span class="va">lisbon</span>, boundary_type <span class="op">=</span> <span class="st">"clipsrc"</span>, force_vectortranslate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; 0...10...20...30...40...50...60...70..</span></span>
<span><span class="co">#&gt; .80...90...100 - done.</span></span>
<span><span class="co">#&gt; Reading layer `lines' from data source </span></span>
<span><span class="co">#&gt;   `/data/bronze/osm/geofabrik_portugal-latest.gpkg' using driver `GPKG'</span></span>
<span><span class="co">#&gt; Simple feature collection with 53724 features and 67 fields</span></span>
<span><span class="co">#&gt; Geometry type: MULTILINESTRING</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -9.229835 ymin: 38.6914 xmax: -9.087336 ymax: 38.79747</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/get_cycling_network.html">get_cycling_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">drive_net</span> <span class="op">=</span> <span class="fu"><a href="reference/get_driving_network.html">get_driving_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/distance_to_road.html">distance_to_road</a></span><span class="op">(</span><span class="va">cycle_net</span>, <span class="va">drive_net</span><span class="op">)</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/classify_cycle_infrastructure.html">classify_cycle_infrastructure</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="reference/plot_osm_tmap.html">plot_osm_tmap</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">)</span></span>
<span><span class="va">m</span></span></code></pre></div>
<p><img src="reference/figures/README-lisbon-1.png"><!-- --></p>
</div>
<div class="section level2">
<h2 id="london">London<a class="anchor" aria-label="anchor" href="#london"></a>
</h2>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">london</span> <span class="op">=</span> <span class="fu">zonebuilder</span><span class="fu">::</span><span class="fu">zb_zone</span><span class="op">(</span><span class="st">"Southwark Station"</span>, n_circles <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">london</span> <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_combine.html" class="external-link">st_union</a></span><span class="op">(</span><span class="va">london</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/valid.html" class="external-link">st_make_valid</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">osm</span> <span class="op">=</span> <span class="fu"><a href="reference/get_travel_network.html">get_travel_network</a></span><span class="op">(</span><span class="va">london</span>, boundary <span class="op">=</span> <span class="va">london</span>, boundary_type <span class="op">=</span> <span class="st">"clipsrc"</span><span class="op">)</span></span>
<span><span class="co">#&gt; 0...10...20...30...40...50...60...70...80...90..</span></span>
<span><span class="co">#&gt; .100 - done.</span></span>
<span><span class="co">#&gt; Reading layer `lines' from data source </span></span>
<span><span class="co">#&gt;   `/data/bronze/osm/geofabrik_greater-london-latest.gpkg' using driver `GPKG'</span></span>
<span><span class="co">#&gt; Simple feature collection with 6358 features and 67 fields</span></span>
<span><span class="co">#&gt; Geometry type: MULTILINESTRING</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -0.1189676 ymin: 51.4957 xmax: -0.09016682 ymax: 51.51368</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/get_cycling_network.html">get_cycling_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">drive_net</span> <span class="op">=</span> <span class="fu"><a href="reference/get_driving_network.html">get_driving_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/distance_to_road.html">distance_to_road</a></span><span class="op">(</span><span class="va">cycle_net</span>, <span class="va">drive_net</span><span class="op">)</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/classify_cycle_infrastructure.html">classify_cycle_infrastructure</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="reference/plot_osm_tmap.html">plot_osm_tmap</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">)</span></span>
<span><span class="va">m</span></span></code></pre></div>
<p><img src="reference/figures/README-london-1.png"><!-- --></p>
</div>
<div class="section level2">
<h2 id="cambridge">Cambridge<a class="anchor" aria-label="anchor" href="#cambridge"></a>
</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cambridge</span> <span class="op">=</span> <span class="fu">zonebuilder</span><span class="fu">::</span><span class="fu">zb_zone</span><span class="op">(</span><span class="st">"Cambridge"</span><span class="op">)</span></span>
<span><span class="va">cambridge</span> <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_combine.html" class="external-link">st_union</a></span><span class="op">(</span><span class="va">cambridge</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/valid.html" class="external-link">st_make_valid</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">osm</span> <span class="op">=</span> <span class="fu"><a href="reference/get_travel_network.html">get_travel_network</a></span><span class="op">(</span><span class="st">"Cambridge"</span>, boundary <span class="op">=</span> <span class="va">cambridge</span>, boundary_type <span class="op">=</span> <span class="st">"clipsrc"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   |                                                                              |                                                                      |   0%  |                                                                              |                                                                      |   1%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |=======                                                               |  11%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  16%  |                                                                              |============                                                          |  17%  |                                                                              |============                                                          |  18%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |==============                                                        |  21%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  22%  |                                                                              |================                                                      |  23%  |                                                                              |================                                                      |  24%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |===================                                                   |  28%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |=====================                                                 |  31%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |=======================                                               |  34%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  39%  |                                                                              |============================                                          |  40%  |                                                                              |============================                                          |  41%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |=================================                                     |  48%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |===================================                                   |  51%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  56%  |                                                                              |========================================                              |  57%  |                                                                              |========================================                              |  58%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |============================================                          |  64%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |=================================================                     |  71%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |======================================================                |  78%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  79%  |                                                                              |========================================================              |  80%  |                                                                              |========================================================              |  81%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================|  99%  |                                                                              |======================================================================| 100%</span></span>
<span><span class="co">#&gt; 0...10...20...30...40...50...60...70...80...90...100 - done.</span></span>
<span><span class="co">#&gt; Reading layer `lines' from data source `/data/bronze/osm/bbbike_Cambridge.gpkg' using driver `GPKG'</span></span>
<span><span class="co">#&gt; Simple feature collection with 50436 features and 67 fields</span></span>
<span><span class="co">#&gt; Geometry type: MULTILINESTRING</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -0.0399984 ymin: 52.12 xmax: 0.319972 ymax: 52.28</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/get_cycling_network.html">get_cycling_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">drive_net</span> <span class="op">=</span> <span class="fu"><a href="reference/get_driving_network.html">get_driving_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/distance_to_road.html">distance_to_road</a></span><span class="op">(</span><span class="va">cycle_net</span>, <span class="va">drive_net</span><span class="op">)</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/classify_cycle_infrastructure.html">classify_cycle_infrastructure</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="reference/plot_osm_tmap.html">plot_osm_tmap</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">)</span></span>
<span><span class="va">m</span></span></code></pre></div>
<p><img src="reference/figures/README-cambridge-1.png"><!-- --></p>
</div>
<div class="section level2">
<h2 id="bristol-example">Bristol example<a class="anchor" aria-label="anchor" href="#bristol-example"></a>
</h2>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">osm</span> <span class="op">=</span> <span class="fu"><a href="reference/get_travel_network.html">get_travel_network</a></span><span class="op">(</span><span class="st">"Edinburgh"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Reading layer `lines' from data source `/data/bronze/osm/bbbike_Edinburgh.gpkg' using driver `GPKG'</span></span>
<span><span class="co">#&gt; Simple feature collection with 225097 features and 67 fields</span></span>
<span><span class="co">#&gt; Geometry type: LINESTRING</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -3.579998 ymin: 55.7 xmax: -2.77 ymax: 56.1</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/get_cycling_network.html">get_cycling_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">drive_net</span> <span class="op">=</span> <span class="fu"><a href="reference/get_driving_network.html">get_driving_network</a></span><span class="op">(</span><span class="va">osm</span><span class="op">)</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/distance_to_road.html">distance_to_road</a></span><span class="op">(</span><span class="va">cycle_net</span>, <span class="va">drive_net</span><span class="op">)</span></span>
<span><span class="va">cycle_net</span> <span class="op">=</span> <span class="fu"><a href="reference/classify_cycle_infrastructure.html">classify_cycle_infrastructure</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="reference/plot_osm_tmap.html">plot_osm_tmap</a></span><span class="op">(</span><span class="va">cycle_net</span><span class="op">)</span></span>
<span><span class="va">m</span></span></code></pre></div>
<p><img src="reference/figures/README-bristol-1.png"><!-- --></p>
<!-- Save an interactive version of the map to check the resu lts as follows: -->
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/nptscot/osmactive/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/nptscot/osmactive/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing osmactive</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Robin Lovelace <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-5679-6536" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Joey Talbot <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-6520-4560" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/nptscot/osmactive/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/nptscot/osmactive/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robin Lovelace, Joey Talbot.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
